<!DOCTYPE html>
<html lang="tr">
  <head>
    <meta charset="UTF-8" />
    <title>InspireApp â€“ Assistant</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- PWA: Manifest -->
    <link rel="manifest" href="manifest.json" />

    <!-- PWA: Tema rengi -->
    <meta name="theme-color" content="#7c3aed" />

    <!-- CSS -->
    <link rel="stylesheet" href="style.css" />
  </head>

  <body>
    <div id="app">
      <!-- ÃœST BAR -->
      <header class="top-bar">
        <button id="menuToggle" class="icon-button">â‹¯</button>
        <div class="top-title">INSPIREAPP</div>
        <button id="helpToggle" class="icon-button">?</button>
      </header>

      <!-- SOL PANEL -->
      <aside id="sidebar" class="sidebar hidden">
        <div class="sidebar-header">
          <h2>Hesap & Sohbetler</h2>
        </div>

        <section class="sidebar-section">
          <h3>KullanÄ±cÄ±</h3>
          <p class="muted small-label">E-posta</p>
          <div id="accountEmail" class="sidebar-email">KayÄ±tlÄ± deÄŸil</div>
          <button id="changeEmailBtn" class="pill-button small">
            E-postayÄ± deÄŸiÅŸtir
          </button>

          <p class="muted small-label">Durum</p>
          <div id="planStatus" class="sidebar-plan-status">Plan: Ãœcretsiz</div>

          <div id="subscribeBlock">
            <button id="subscribeBtn" class="pill-button primary small">
              <b>PRO</b>'ya geÃ§
            </button>
          </div>
        </section>

        <section class="sidebar-section">
          <h3>Sohbetler</h3>
          <button id="newChatBtn" class="pill-button">+ Yeni sohbet</button>
          <div id="conversationList" class="conversation-list"></div>
        </section>

        <section class="sidebar-section">
          <h3>Paneller</h3>
          <button class="side-btn" data-panel="chat">ğŸ’¬ Sohbet</button>
          <button class="side-btn" data-panel="trends">ğŸ”¥ Trend AkÄ±mÄ±</button>
          <button class="side-btn" data-panel="series">ğŸ“… 30 GÃ¼nlÃ¼k Seri</button>
          <button class="side-btn" data-panel="hook">âš¡ Hook LaboratuvarÄ±</button>
          <button class="side-btn" data-panel="copy">
            ğŸ¬ Trend Kopya Makinesi
          </button>
        </section>

        <button id="helpToggle2" class="help-btn">â“ YardÄ±m</button>
      </aside>

      <!-- SAÄ YARDIM PANELÄ° -->
      <aside id="helpPanel" class="help-panel hidden">
        <h2>Bilgi & Destek</h2>

        <h3>Uygulama</h3>
        <p>
          InspireApp, kÄ±sa video Ã¼reticileri iÃ§in yapay zekÃ¢ destekli
          <b>profesyonel fikir oluÅŸturma + akÄ±m analiz + iÃ§erik planlama</b>
          aracÄ±dÄ±r.
        </p>
        <p>
          YouTube Shorts, TikTok, Instagram Reels iÃ§in Ã¶zel fikir, hook, baÅŸlÄ±k,
          trend kopyalama ve iÃ§erik akÄ±ÅŸÄ± Ã¼retir.
        </p>

        <h3>Ãœcretsiz Plan</h3>
        <p>GÃ¼nlÃ¼k 4 puan. Reklam izleyerek artÄ±rÄ±labilir.</p>

        <h3>PRO Plan</h3>
        <p>
          Fiyat bilgisi ve Ã¶deme, <b>PRO'ya geÃ§</b> butonuna bastÄ±ÄŸÄ±nÄ±zda aÃ§Ä±lan
          ekranda gÃ¶sterilir (Google Play Ã¼zerinden satÄ±n alma).
        </p>

        <h3>Destek</h3>
        <p><b>E-posta:</b> insprireappdestek@gmail.com</p>

        <button id="closeHelpBtn" class="pill-button">Kapat</button>
      </aside>

      <!-- ANA BÃ–LÃœM -->
      <main class="chat-area">
        <!-- TRENDLER -->
        <section id="panel-trends" class="panel hidden">
          <h2 class="panel-title">ğŸ”¥ Trendler (Bu Hafta)</h2>
          <button id="refreshTrendsBtn" class="pill-button primary small">
            Trendleri Yenile
          </button>
          <ul id="trendsList" class="trends-list"></ul>
        </section>

        <!-- 30 GÃœNLÃœK SERÄ° -->
        <section id="panel-series" class="panel hidden">
          <h2 class="panel-title">ğŸ“… 30 GÃ¼nlÃ¼k Seri PlanÄ±</h2>
          <p class="muted">
            Bir konu gir, InspireApp sana 30 gÃ¼nlÃ¼k kÄ±sa video planÄ± Ã§Ä±karsÄ±n.
          </p>
          <textarea
            id="seriesTopic"
            rows="3"
            placeholder="Ã–rn: SaÄŸlÄ±klÄ± yemek, motivasyon videolarÄ±..."
          ></textarea>
          <button id="seriesGenerate" class="pill-button primary">
            30 gÃ¼nlÃ¼k planÄ± oluÅŸtur
          </button>
          <pre id="seriesResult" class="panel-result"></pre>
        </section>

        <!-- HOOK LABORATUVARI -->
        <section id="panel-hook" class="panel hidden">
          <h2 class="panel-title">âš¡ Hook LaboratuvarÄ±</h2>
          <p class="muted">
            Konunu yaz; ilk 3 saniyede izleyiciyi Ã§eken gÃ¼Ã§lÃ¼ giriÅŸ cÃ¼mleleri
            (hook) Ã¼retelim.
          </p>
          <textarea
            id="hookTopic"
            rows="3"
            placeholder="Ã–rn: Ã–ÄŸrenciler iÃ§in verimli ders Ã§alÄ±ÅŸma"
          ></textarea>
          <button id="hookGenerate" class="pill-button primary">
            Hook Ã¶nerilerini Ã¼ret
          </button>
          <pre id="hookResult" class="panel-result"></pre>
        </section>

        <!-- TREND KOPYA MAKÄ°NESÄ° -->
        <section id="panel-copy" class="panel hidden">
          <h2 class="panel-title">ğŸ¬ Trend Kopya Makinesi</h2>
          <p class="muted">
            BeÄŸendiÄŸin bir trend / video fikrini yaz; InspireApp bunu senin
            niÅŸine gÃ¶re yeniden yazar.
          </p>
          <textarea
            id="copyTopic"
            rows="3"
            placeholder="Ã–rn: Åu videoyu kendi marka tonuma uyarlamak istiyorum..."
          ></textarea>
          <button id="copyGenerate" class="pill-button primary">
            Trend kopyasÄ±nÄ± oluÅŸtur
          </button>
          <pre id="copyResult" class="panel-result"></pre>
        </section>

        <!-- SOHBET (ANA PANEL) -->
        <section id="panel-chat" class="panel">
          <div id="chatMessages" class="chat-messages"></div>

          <div class="credits-row">
            <span id="planLabel" class="muted"></span>
            <span id="creditsLabel" class="muted"></span>
            <button id="watchAdBtn" class="pill-button small">
              Reklam izle +1 puan
            </button>
          </div>

          <div class="controls">
            <input id="topicInput" type="text" placeholder="Konu (Ã¶rn: moda)" />
            <select id="platformSelect">
              <option value="youtube">YouTube Shorts</option>
              <option value="tiktok">TikTok</option>
              <option value="instagram">Instagram Reels</option>
            </select>
            <select id="langSelect"></select>
          </div>

          <form id="chatForm" class="chat-input-row">
            <button type="button" id="voiceBtn" class="circle-button">ğŸ¤</button>
            <button type="button" id="cameraBtn" class="circle-button">ğŸ“·</button>
            <textarea
              id="messageInput"
              rows="1"
              placeholder="Mesaj yaz..."
            ></textarea>
            <button type="submit" id="sendBtn" class="pill-button primary">
              GÃ¶nder
            </button>
          </form>

          <div id="loading" class="loading hidden">YÃ¼kleniyor...</div>
        </section>
      </main>

      <!-- ONBOARDING â€” DÄ°L + E-POSTA -->
      <div id="onboardingOverlay" class="onboarding-overlay hidden">
        <div class="onboarding-card">
          <h1 class="onboarding-title">INSPIREAPP</h1>
          <div id="onboardStepLang">
            <h2>Dil seÃ§in</h2>
            <select id="onboardLangSelect"></select>
            <button id="onboardLangSaveBtn" class="pill-button primary">
              Devam
            </button>
          </div>
          <div id="onboardStepEmail" class="hidden">
            <h2>E-posta adresiniz</h2>
            <input
              id="onboardEmailInput"
              type="email"
              placeholder="ornek@mail.com"
            />
            <button id="onboardEmailSaveBtn" class="pill-button primary">
              Sohbete baÅŸla
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Kamera iÃ§in gizli input -->
    <input
      id="cameraFileInput"
      type="file"
      accept="image/*"
      capture="environment"
      style="display:none"
    />

    <!-- GENEL MODAL ARKA PLANI -->
    <div id="modalBackdrop" class="modal-backdrop hidden"></div>

    <!-- REKLAM MODALI -->
    <div id="adModal" class="modal hidden">
      <div class="modal-card">
        <!-- ANA ADIM -->
        <div id="adStepMain">
          <div class="modal-header">
            <h2>Reklam Ä°zleyerek +1 Puan</h2>
            <button id="adCloseIcon" class="icon-button">âœ•</button>
          </div>
          <p>
            Bir video reklam izle; izledikten sonra alttaki
            <b>"ReklamÄ± izledim"</b> butonuna bas, hesabÄ±na +1 kredi eklensin.
          </p>
          <div class="modal-actions">
            <button id="adCancelBtn" class="pill-button">VazgeÃ§</button>
            <button id="adWatchedBtn" class="pill-button primary">
              ReklamÄ± izledim, +1 ver
            </button>
          </div>
        </div>

        <!-- KAPATMA ONAY ADIMI -->
        <div id="adStepConfirm" class="hidden">
          <h3>Emin misin?</h3>
          <p>ReklamÄ± izlemekten vazgeÃ§mek Ã¼zeresin.</p>
          <div class="modal-actions">
            <button id="adContinueBtn" class="pill-button">
              ReklamÄ± izlemeye devam et
            </button>
            <button id="adConfirmCloseBtn" class="pill-button primary">
              Evet, kapat
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- PRO PLANI MODALI -->
    <div id="proModal" class="modal hidden">
      <div class="modal-card">
        <div class="modal-header">
          <h2>InspireApp PRO</h2>
          <button id="proCloseBtn" class="icon-button">âœ•</button>
        </div>
        <p id="proPriceText"></p>
        <p>
          PRO plan; sÄ±nÄ±rsÄ±z kredi, reklamsÄ±z kullanÄ±m ve gelecekteki premium
          Ã¶zelliklere eriÅŸim saÄŸlar.
        </p>
        <div class="modal-actions">
          <button id="proPayBtn" class="pill-button primary">
            PROâ€™ya geÃ§
          </button>
        </div>
      </div>
    </div>

    <!-- JS -->
    <script src="app.js"></script>

    <!-- PWA: Service Worker KaydÄ± -->
    <script>
      if ("serviceWorker" in navigator) {
        navigator.serviceWorker
          .register("/service-worker.js")
          .then(() => console.log("Service Worker yÃ¼klendi âœ”"))
          .catch((err) => console.error("SW hatasÄ±:", err));
      }
    </script>
  </body>
</html>
